---
title: 设计与实现
toc: false
date: 2017-10-8 23:28:59
tags: 
---

# 设计与实现

这里用了一个经典的 `Markov program`（“自动生成可阅读文本”）来阐释，分析得很详细，还给出各语言下的不同处理

在 《web scraping by python》一书中也有这个例子，相比之下，本书优化了数据结构和一些设计，如：

- 使用 `hash table` + 链表
  - 前缀作为 hash table 的 key，特定前缀后的各个后缀放入链表中
- 如果输入不够启动程序，要如何？
  - 做循环准备时，用 `NONWORD` 装满前缀数组（这个其实还不太明白）
- 需不需要用计数器？
  - 实验表明，两种做法性能影响不大，不用计数器比较容易写
- 给数据加上 `sentinel` to mark boundaries。
- 随机选取
  - 如何才能设置好概率？

### 性能测试

看完性能测试后，才知道 C 的效率是多么地惊人，竟然比第二名的 C++ 快了3~4倍

###  lessons

**数据结构先行**

> The design of a program is rooted in the layout of its data. The `data structures` don't define every detail, but they do shape the overall solution.

正如人月神话中所说：

> Show me yourflowcharts and conceal your tables, and I shall continue to be mystijied(这个单词有误）. Show me your tables, and I won't usually need your flowcharts; they'll be obvious.

一旦确定了良好的数据结构，那么算法就是瓜熟蒂落，编码也比较容易

**不用重复造轮子**

造轮子是学习的一个途径，但我们在实现程序时，要选择那些**能在合理时间内解决预期规模的问题**的`最简单的东西`

**其他**

- start detailed design with `data structures`, guided by knowledge of what algorithms might be used;
  - 数据结构弄好了，代码也容易搞出来了
- As much as possible, start with something simple and evolve it as experience dictates.