## code complete 内容扩展大纲（python）

* 每个子程序都检查输入参数的正确性吗？
  * *类型检查*

## 强制函数上的类型检查

目标：能对函数参数类型进行断言

效果：

```python
>>> @typeassert(int, int)
... def add(x, y):
...     return x + y
...
>>>
>>> add(2, 3)
5
>>> add(2, 'hello')
Traceback (most recent call last):
    File "<stdin>", line 1, in <module>
    File "contract.py", line 33, in wrapper
TypeError: Argument y must be <class 'int'>
>>>
```

具体实现：

> 很惭愧，还看不太懂，具体见参考

### 参考

[9.7 利用装饰器强制函数上的类型检查 — python3-cookbook 2.0.0 文档](https://python3-cookbook.readthedocs.io/zh_CN/latest/c09/p07_enforcing_type_check_on_function_using_decorator.html)

类型检查在 python 中好像是应该避免的（还不懂其思想），参考：

* [鸭子类型 - 维基百科，自由的百科全书](https://zh.wikipedia.org/wiki/%E9%B8%AD%E5%AD%90%E7%B1%BB%E5%9E%8B)

* > 这个问题又与Python的思想有关，正常情况下不应该编写代码检查类型的，而应该直接假设被操作的instance具有你希望的属性，否则抛出异常。即使需要检查类型，也应该用`isinstance`来判断

* [Best way to check function arguments in Python - Stack Overflow](https://stackoverflow.com/questions/19684434/best-way-to-check-function-arguments-in-python) (关于检查的讨论，未看)

* [在 Python 中进行函数参数检查 - My Nook](https://blog.mynook.info/post/how-to-check-args-of-function-in-python) （虽然可以，但是是比较老的了，python2.7）

* > we usually use more `try` and `catch` blocks instead of trying to validate parameters
  >
  > [Parameter validation, Best practices in Python - Stack Overflow](https://stackoverflow.com/questions/19487149/parameter-validation-best-practices-in-python)

* [python - Is it Pythonic to check function argument types? - Stack Overflow](https://stackoverflow.com/questions/1950386/is-it-pythonic-to-check-function-argument-types) (未看)

* [error handling - Should one check for null if he does not expect null? - Software Engineering Stack Exchange](https://softwareengineering.stackexchange.com/questions/147480/should-one-check-for-null-if-he-does-not-expect-null) 

* [pyvalid 0.9 : Python Package Index](https://pypi.python.org/pypi/pyvalid/0.9) 检查参数的包